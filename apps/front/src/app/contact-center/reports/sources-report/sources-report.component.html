<app-page-layout title="Источники звонков" [subtitle]="'Топ вызывающих номеров / целевых номеров'">
  <div page-actions>
    <button mat-stroked-button (click)="load()"><mat-icon>refresh</mat-icon> Обновить</button>
  </div>
</app-page-layout>

<div class="filters">
  <mat-form-field appearance="outline">
    <mat-label>Фильтр</mat-label>
    <input matInput placeholder="По номеру или части" [ngModel]="filter()" (ngModelChange)="filter.set($event)" />
  </mat-form-field>
</div>

<div class="content">
  <div *ngIf="loading()" class="loading"><mat-spinner diameter="32"></mat-spinner></div>

  <crm-table *ngIf="!loading()" [columns]="columns" [data]="filtered" [pageSize]="20"></crm-table>
</div>
