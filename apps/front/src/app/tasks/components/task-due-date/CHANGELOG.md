# Changelog - TaskDueDateComponent

## [2.1.0] - 2025-10-24

### ‚ú® –£–ª—É—á—à–µ–Ω–∏—è

**–ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ date-fns –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞—Ç–∞–º–∏**

–ó–∞–º–µ–Ω–µ–Ω–∞ –≤—Å—è –Ω–∞—Ç–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞–º–∏ (–æ–±—ä–µ–∫—Ç `Date`, –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞–º–∏) –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É `date-fns`.

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- üöÄ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: date-fns –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —á–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞ –∏ edge cases
- üìñ **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å**: –≤–º–µ—Å—Ç–æ `Math.ceil((due.getTime() - now.getTime()) / (1000 * 60))` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `differenceInMinutes(due, now)`
- üîß **–ü–æ–¥–¥–µ—Ä–∂–∫–∞**: date-fns –∞–∫—Ç–∏–≤–Ω–æ —Ä–∞–∑–≤–∏–≤–∞–µ—Ç—Å—è –∏ –∏–º–µ–µ—Ç –æ—Ç–ª–∏—á–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- ‚ö° **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞—Ç–∞–º–∏
- üåç **–ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è**: –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ª–æ–∫–∞–ª–µ–π (–¥–ª—è –±—É–¥—É—â–∏—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π)

#### –ó–∞–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `new Date(dateString)` ‚Üí `parseISO(dateString)` - –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–π –ø–∞—Ä—Å–∏–Ω–≥ ISO —Å—Ç—Ä–æ–∫
- `date1 > date2` ‚Üí `isAfter(date1, date2)` - —è–≤–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–∞—Ç
- `Math.ceil((due - now) / (1000 * 60))` ‚Üí `differenceInMinutes(due, now)` - —Ä–∞–∑–Ω–∏—Ü–∞ –≤ –º–∏–Ω—É—Ç–∞—Ö
- `Math.ceil((due - now) / (1000 * 60 * 60 * 24))` ‚Üí `differenceInDays(due, now)` - —Ä–∞–∑–Ω–∏—Ü–∞ –≤ –¥–Ω—è—Ö
- –†—É—á–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —á–∞—Å–æ–≤ ‚Üí `differenceInHours(date1, date2)` - —Ä–∞–∑–Ω–∏—Ü–∞ –≤ —á–∞—Å–∞—Ö

#### –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ date-fns
```typescript
import { 
  differenceInMinutes,   // –†–∞–∑–Ω–∏—Ü–∞ –≤ –º–∏–Ω—É—Ç–∞—Ö
  differenceInDays,      // –†–∞–∑–Ω–∏—Ü–∞ –≤ –¥–Ω—è—Ö
  differenceInHours,     // –†–∞–∑–Ω–∏—Ü–∞ –≤ —á–∞—Å–∞—Ö
  differenceInMilliseconds, // –†–∞–∑–Ω–∏—Ü–∞ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö (reserved)
  isAfter,               // –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –¥–∞—Ç–∞1 > –¥–∞—Ç–∞2
  parseISO               // –ü–∞—Ä—Å–∏–Ω–≥ ISO —Å—Ç—Ä–æ–∫
} from 'date-fns';
```

#### –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ –º–µ—Ç–æ–¥—ã
- `getDueDateClass()` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ CSS –∫–ª–∞—Å—Å–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞–∑–Ω–∏—Ü—ã –¥–∞—Ç
- `getDueDateIcon()` - –≤—ã–±–æ—Ä –∏–∫–æ–Ω–∫–∏ –ø–æ –¥–µ–¥–ª–∞–π–Ω—É
- `getRelativeDueDate()` - —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—ã–π —Ç–µ–∫—Å—Ç –≤—Ä–µ–º–µ–Ω–∏ –¥–æ –¥–µ–¥–ª–∞–π–Ω–∞
- `getDueDateTooltip()` - –ø–æ–¥—Å–∫–∞–∑–∫–∞ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

#### –ü—Ä–∏–º–µ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π
**–ë—ã–ª–æ:**
```typescript
const now = new Date();
const due = new Date(this.task.dueDate);
const diffMs = due.getTime() - now.getTime();
const diffMinutes = Math.ceil(diffMs / (1000 * 60));
if (closedAt > due) { ... }
```

**–°—Ç–∞–ª–æ:**
```typescript
const now = new Date();
const due = parseISO(this.task.dueDate);
const diffMinutes = differenceInMinutes(due, now);
if (isAfter(closedAt, due)) { ... }
```

---

## [2.0.0] - 2025-10-24

### üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (Critical Bug Fix)

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á**

#### –ü—Ä–æ–±–ª–µ–º–∞
–ó–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω—ã –Ω–∞ –º–æ–º–µ–Ω—Ç –∑–∞–∫—Ä—ã—Ç–∏—è, –æ—à–∏–±–æ—á–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –∫–∞–∫ "–ó–∞–≤–µ—Ä—à–µ–Ω–æ –≤–æ–≤—Ä–µ–º—è" —Å –∑–µ–ª–µ–Ω–æ–π –≥–∞–ª–æ—á–∫–æ–π –≤–º–µ—Å—Ç–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø—Ä–æ—Å—Ä–æ—á–∫–µ.

#### –ü—Ä–∏—á–∏–Ω–∞
1. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö `now`, `due` –≤ –º–µ—Ç–æ–¥–∞—Ö –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –æ—à–∏–±–∫–∞–º –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
2. –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–æ–∫
3. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ fallback –ª–æ–≥–∏–∫–∏ –¥–ª—è —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ `updatedAt` –º–æ–∂–µ—Ç –±—ã—Ç—å `undefined`

#### –†–µ—à–µ–Ω–∏–µ
- **`getDueDateClass()`**: –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –æ–±—ä—è–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ –Ω–∞—á–∞–ª–æ –º–µ—Ç–æ–¥–∞, —É–ª—É—á—à–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–∫—Ä—ã—Ç—ã—Ö –∑–∞–¥–∞—á
- **`getDueDateIcon()`**: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ —Å `getDueDateClass()`, –¥–æ–±–∞–≤–ª–µ–Ω fallback –¥–ª—è `updatedAt`
- **`getRelativeDueDate()`**: –ò–∑–º–µ–Ω–µ–Ω —Ç–µ–∫—Å—Ç —Å "–ó–∞–≤–µ—Ä—à–µ–Ω–æ" –Ω–∞ "–° –æ–ø–æ–∑–¥–∞–Ω–∏–µ–º" –¥–ª—è –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –∑–∞–∫—Ä—ã—Ç—ã—Ö –∑–∞–¥–∞—á
- **`getDueDateTooltip()`**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ —É–ª—É—á—à–µ–Ω–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Å–∫–∞–∑–æ–∫

#### –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã
- `task-due-date.component.ts` - –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- `README.md` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `CHANGELOG.md` - –¥–æ–±–∞–≤–ª–µ–Ω —ç—Ç–æ—Ç —Ñ–∞–π–ª

#### –ö–∞–∫ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç
```typescript
// –î–ª—è –∑–∞–¥–∞—á–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º 'done'
if (this.task.status === 'done') {
  const closedAt = this.task.updatedAt ? new Date(this.task.updatedAt) : now;
  
  if (closedAt > due) {
    return 'due-date-done-late'; // –ñ–µ–ª—Ç—ã–π —Ñ–æ–Ω, —á–∞—Å—ã, "–° –æ–ø–æ–∑–¥–∞–Ω–∏–µ–º"
  }
  
  return 'due-date-done'; // –°–µ—Ä—ã–π —Ñ–æ–Ω, –≥–∞–ª–æ—á–∫–∞, "–ó–∞–≤–µ—Ä—à–µ–Ω–æ"
}
```

#### –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
| –°–æ—Å—Ç–æ—è–Ω–∏–µ | –î–æ | –ü–æ—Å–ª–µ |
|-----------|----|----|
| –ó–∞–∫—Ä—ã—Ç–æ –≤–æ–≤—Ä–µ–º—è | ‚úÖ –°–µ—Ä—ã–π, –≥–∞–ª–æ—á–∫–∞, "–ó–∞–≤–µ—Ä—à–µ–Ω–æ" | ‚úÖ –°–µ—Ä—ã–π, –≥–∞–ª–æ—á–∫–∞, "–ó–∞–≤–µ—Ä—à–µ–Ω–æ" (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π) |
| –ó–∞–∫—Ä—ã—Ç–æ —Å –æ–ø–æ–∑–¥–∞–Ω–∏–µ–º | ‚ùå –°–µ—Ä—ã–π, –≥–∞–ª–æ—á–∫–∞, "–ó–∞–≤–µ—Ä—à–µ–Ω–æ" (–ë–ê–ì!) | ‚úÖ –ñ–µ–ª—Ç—ã–π, —á–∞—Å—ã, "–° –æ–ø–æ–∑–¥–∞–Ω–∏–µ–º" |

#### –ü—Ä–∏–º–µ—Ä—ã
1. **–ó–∞–¥–∞—á–∞ —Å –¥–µ–¥–ª–∞–π–Ω–æ–º 14:00, –∑–∞–∫—Ä—ã—Ç–∞ –≤ 13:55** ‚Üí ‚úÖ "–ó–∞–≤–µ—Ä—à–µ–Ω–æ" (–≤–æ–≤—Ä–µ–º—è)
2. **–ó–∞–¥–∞—á–∞ —Å –¥–µ–¥–ª–∞–π–Ω–æ–º 14:00, –∑–∞–∫—Ä—ã—Ç–∞ –≤ 15:30** ‚Üí ‚ö†Ô∏è "–° –æ–ø–æ–∑–¥–∞–Ω–∏–µ–º" (–Ω–∞ 1—á 30–º)
3. **–ó–∞–¥–∞—á–∞ –±–µ–∑ `updatedAt`** ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

---

## [1.0.0] - –ù–∞—á–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á–∏ —Å —É—á–µ—Ç–æ–º –¥–µ–¥–ª–∞–π–Ω–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ SLA –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–∑ —Ç–∏–ø–æ–≤ –∑–∞–¥–∞—á
- –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π (pulse, shake)
- –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Ç—É–ª—Ç–∏–ø—ã
- Responsive –¥–∏–∑–∞–π–Ω
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å/–±–µ–∑ –≤—Ä–µ–º–µ–Ω–∏
