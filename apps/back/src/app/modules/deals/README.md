# Модуль Сделок (Deals Module)

## Описание
Модуль управления сделками позволяет вести клиентов по воронке продаж, отслеживать этапы, суммы и вероятность успеха.

## Основные возможности
- **Создание сделок:** Привязка к контакту или компании.
- **Воронка продаж:** Перемещение сделок по этапам (Stages).
- **История:** Логирование изменений и активности по сделке.
- **Аналитика:** Расчет вероятности закрытия и прогнозируемой выручки.

## Компоненты

### Сущности
- `DealEntity` (`deal.entity.ts`): Основная сущность сделки. Поля: название, сумма, стадия, ответственный.

### Сервисы
- `DealsService` (`deals.service.ts`): Логика управления жизненным циклом сделки.

### Контроллеры
- `DealsController` (`deals.controller.ts`): API для работы со сделками.

## API Endpoints
- `GET /api/deals` - Список сделок.
- `POST /api/deals` - Создание сделки.
- `PATCH /api/deals/:id/stage` - Смена этапа сделки.
- `GET /api/deals/pipeline` - Получение данных для визуализации воронки.
