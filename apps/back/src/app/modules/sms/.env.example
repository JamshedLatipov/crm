# ==================================
# SMS PROVIDER CONFIGURATION
# ==================================

# Основной провайдер: smsru | smsc | twilio
SMS_PROVIDER=smsru
SMS_SENDER=CRM

# SMS.RU
SMS_API_URL=https://sms.ru/sms/send
SMS_API_KEY=your_smsru_api_key_here

# SMSC.RU
SMSC_LOGIN=your_smsc_login
SMSC_PASSWORD=your_smsc_password
SMSC_API_URL=https://smsc.ru/sys/send.php

# Twilio
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# ==================================
# EMAIL (SMTP) CONFIGURATION
# ==================================

# SMTP настройки
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@example.com
SMTP_FROM_NAME=CRM System

# Массовая отправка
EMAIL_BATCH_SIZE=50
EMAIL_BATCH_DELAY=1000

# Настройки для популярных провайдеров:
# Gmail: smtp.gmail.com:587
# Outlook: smtp-mail.outlook.com:587
# Yahoo: smtp.mail.yahoo.com:587
# SendGrid: smtp.sendgrid.net:587 (user=apikey, pass=api_key)
# Mailgun: smtp.mailgun.org:587

# ==================================
# REST API / WEBHOOK CONFIGURATION
# ==================================

# Webhook настройки
WEBHOOK_TIMEOUT=5000
WEBHOOK_MAX_RETRIES=3
WEBHOOK_RETRY_DELAY=1000

# Аутентификация (bearer | basic | apikey | none)
WEBHOOK_AUTH_TYPE=bearer
WEBHOOK_AUTH_TOKEN=your_webhook_bearer_token

# Для basic auth:
# WEBHOOK_AUTH_TYPE=basic
# WEBHOOK_USERNAME=api_user
# WEBHOOK_PASSWORD=api_password

# Для API key:
# WEBHOOK_AUTH_TYPE=apikey
# WEBHOOK_API_KEY=your_api_key

# ==================================
# NOTIFICATION SETTINGS
# ==================================

# Общие настройки
NOTIFICATION_DEFAULT_CHANNEL=sms
NOTIFICATION_ENABLE_RETRY=true
NOTIFICATION_MAX_RETRIES=3
NOTIFICATION_RETRY_DELAY=2000

# Лимиты
NOTIFICATION_RATE_LIMIT_ENABLED=true
NOTIFICATION_RATE_LIMIT_TTL=60
NOTIFICATION_RATE_LIMIT_MAX=100

# ==================================
# CAMPAIGN SETTINGS
# ==================================

# SMS Campaign
SMS_CAMPAIGN_DEFAULT_SPEED=100
SMS_CAMPAIGN_MAX_SPEED=500
SMS_CAMPAIGN_ENABLE_THROTTLE=true

# Email Campaign
EMAIL_CAMPAIGN_DEFAULT_SPEED=200
EMAIL_CAMPAIGN_MAX_SPEED=1000

# Webhook Campaign
WEBHOOK_CAMPAIGN_DEFAULT_SPEED=50
WEBHOOK_CAMPAIGN_MAX_SPEED=200

# ==================================
# DATABASE SETTINGS
# ==================================

# PostgreSQL (если используется отдельная БД для уведомлений)
# DB_HOST=localhost
# DB_PORT=5432
# DB_USERNAME=crm_user
# DB_PASSWORD=crm_password
# DB_DATABASE=crm_notifications

# ==================================
# LOGGING & MONITORING
# ==================================

# Уровень логирования
LOG_LEVEL=info
LOG_NOTIFICATIONS=true
LOG_FAILED_ONLY=false

# Sentry (опционально)
# SENTRY_DSN=your_sentry_dsn
# SENTRY_ENVIRONMENT=production

# ==================================
# SECURITY
# ==================================

# Rate limiting для API
THROTTLE_TTL=60
THROTTLE_LIMIT=100

# CORS
# CORS_ORIGIN=https://your-frontend.com
# CORS_CREDENTIALS=true

# ==================================
# FEATURE FLAGS
# ==================================

# Включение/выключение каналов
FEATURE_SMS_ENABLED=true
FEATURE_EMAIL_ENABLED=false
FEATURE_WEBHOOK_ENABLED=true

# Дополнительные фичи
FEATURE_ANALYTICS_ENABLED=true
FEATURE_A_B_TESTING=false
FEATURE_PERSONALIZATION=false

# ==================================
# CRON JOBS
# ==================================

# Автоматический запуск запланированных кампаний
CRON_CAMPAIGNS_ENABLED=true
CRON_CAMPAIGNS_SCHEDULE="*/1 * * * *"

# Пересчёт динамических сегментов
CRON_SEGMENTS_ENABLED=true
CRON_SEGMENTS_SCHEDULE="0 */6 * * *"

# Очистка старых логов
CRON_CLEANUP_ENABLED=true
CRON_CLEANUP_SCHEDULE="0 2 * * *"
CRON_CLEANUP_DAYS=90

# ==================================
# TESTING & DEVELOPMENT
# ==================================

# Тестовый режим (не отправляет реальные уведомления)
TEST_MODE=false

# Тестовые получатели (override реальных в test mode)
TEST_PHONE_NUMBER=+79991234567
TEST_EMAIL=test@example.com
TEST_WEBHOOK_URL=https://webhook.site/unique-id

# Debug
DEBUG_SMS_PROVIDER=false
DEBUG_EMAIL_PROVIDER=false
DEBUG_WEBHOOK_PROVIDER=false
