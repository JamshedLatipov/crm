# –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ Frontend + Backend

–î–∞—Ç–∞: 12 —è–Ω–≤–∞—Ä—è 2026 –≥.

## üéØ –¶–µ–ª—å

–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—É—é —Å–∏—Å—Ç–µ–º—É —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–ª—è –º–æ–¥—É–ª–µ–π Contacts, Leads, Companies –∏ Deals –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ –∏ –±—ç–∫–µ–Ω–¥–µ.

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### Backend (NestJS + TypeORM)

#### 1. –°–æ–∑–¥–∞–Ω—ã —Ñ–∞–π–ª—ã:
- ‚úÖ `apps/back/src/app/modules/shared/dto/universal-filter.dto.ts`
  - `UniversalFilterDto` - DTO –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞
  - `BaseAdvancedSearchDto` - –±–∞–∑–æ–≤—ã–π DTO –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞

- ‚úÖ `apps/back/src/app/modules/shared/services/universal-filter.service.ts`
  - `UniversalFilterService` - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
  - –ú–µ—Ç–æ–¥—ã: `applyFilter`, `applyFilters`, `applyStaticFieldFilter`, `applyCustomFieldFilter`
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 12 –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤

- ‚úÖ `apps/back/src/app/modules/shared/services/UNIVERSAL_FILTER_USAGE.md`
  - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
  - –ü—Ä–∏–º–µ—Ä—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
  - –û–ø–∏—Å–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤

#### 2. –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ñ–∞–π–ª—ã:
- ‚úÖ `shared/shared.module.ts` - —ç–∫—Å–ø–æ—Ä—Ç `UniversalFilterService`
- ‚úÖ `contacts/contacts.module.ts` - –∏–º–ø–æ—Ä—Ç `SharedModule`
- ‚úÖ `contacts/contacts.service.ts` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `UniversalFilterService`
- ‚úÖ `contacts/dto/advanced-search.dto.ts` - –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –æ—Ç `BaseAdvancedSearchDto`
- ‚úÖ `contacts/contacts.controller.ts` - endpoint `POST /contacts/advanced-search`

#### 3. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
- PostgreSQL case sensitivity (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–≤–æ–π–Ω—ã—Ö –∫–∞–≤—ã—á–µ–∫)
- JSONB –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –ø–æ–ª–µ–π
- –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (–∑–∞—â–∏—Ç–∞ –æ—Ç SQL injection)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∏ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –ø–æ–ª–µ–π
- –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã

### Frontend (Angular 20 + Signals)

#### 1. –°–æ–∑–¥–∞–Ω—ã —Ñ–∞–π–ª—ã:
- ‚úÖ `apps/front/src/app/shared/interfaces/universal-filter.interface.ts`
  - `FilterOperator` - —Ç–∏–ø –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
  - `UniversalFilter` - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ñ–∏–ª—å—Ç—Ä–∞
  - `BaseFilterState` - –±–∞–∑–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
  - `BaseAdvancedSearchRequest` - –∑–∞–ø—Ä–æ—Å —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
  - `BaseAdvancedSearchResponse<T>` - —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç
  - `FilterFieldDefinition` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–ª—è
  - `OperatorDefinition` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞

- ‚úÖ `apps/front/src/app/shared/services/universal-filter.service.ts`
  - `UniversalFilterService` - —Å–µ—Ä–≤–∏—Å —Å —É—Ç–∏–ª–∏—Ç–∞–º–∏
  - 12 –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
  - –ú–µ—Ç–æ–¥—ã: `getOperatorsForFieldType`, `getOperatorLabel`, `isSelectField`, `getSelectOptions`, `getFieldTypeHint`, `isValidFilterValue`, `createDefaultFilter`, `countActiveFilters`

- ‚úÖ `apps/front/src/app/shared/dialogs/universal-filters-dialog/`
  - `universal-filters-dialog.component.ts` - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –¥–∏–∞–ª–æ–≥
  - `universal-filters-dialog.component.html` - template —Å —Ç–∞–±–∞–º–∏
  - `universal-filters-dialog.component.scss` - —Å—Ç–∏–ª–∏ —Å –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å—é

#### 2. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- ‚úÖ `UNIVERSAL_FILTER_FRONTEND.md` - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- ‚úÖ `shared/README.md` - –æ–±–Ω–æ–≤–ª—ë–Ω —Å quick start

#### 3. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:
- –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É
- –§–∏–ª—å—Ç—Ä –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (isActive)
- –¢–∞–±—ã: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ–ª—è / –î–æ–ø. –ø–æ–ª—è
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤
- –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ input (text/select)
- Select –¥–ª—è boolean –∏ enum –ø–æ–ª–µ–π
- –ü–æ–¥—Å–∫–∞–∑–∫–∏ —Ç–∏–ø–æ–≤ –ø–æ–ª–µ–π
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏–π
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### Backend
- **–°–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:** 3
- **–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:** 5
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~600
- **–£–¥–∞–ª—ë–Ω–Ω–æ–≥–æ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ –∫–æ–¥–∞:** ~150 —Å—Ç—Ä–æ–∫ –∏–∑ ContactsService

### Frontend
- **–°–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:** 4
- **–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:** 1
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~700
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ TypeScript:** 100%
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Signals:** –î–∞

## üé® –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Frontend                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  UniversalFiltersDialogComponent               ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ Search & Status Filter                    ‚îÇ ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ ‚îÇ
‚îÇ  ‚îÇ Tab: Static Fields                        ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Field Selector (dropdown)              ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Operator Selector (dropdown)           ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Value Input (text/select/date)         ‚îÇ ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ ‚îÇ
‚îÇ  ‚îÇ Tab: Custom Fields                        ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Dynamic from API                       ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Same structure as static               ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                      ‚Üì                          ‚îÇ
‚îÇ          UniversalFilterService                 ‚îÇ
‚îÇ  ‚Ä¢ Operator definitions                        ‚îÇ
‚îÇ  ‚Ä¢ Field type mapping                          ‚îÇ
‚îÇ  ‚Ä¢ Validation logic                            ‚îÇ
‚îÇ                      ‚Üì                          ‚îÇ
‚îÇ    BaseAdvancedSearchRequest                   ‚îÇ
‚îÇ    {                                            ‚îÇ
‚îÇ      search?: string,                          ‚îÇ
‚îÇ      isActive?: boolean,                       ‚îÇ
‚îÇ      filters: UniversalFilter[],               ‚îÇ
‚îÇ      page, pageSize                            ‚îÇ
‚îÇ    }                                            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚Üì HTTP POST
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Backend                       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ    POST /entity/advanced-search                 ‚îÇ
‚îÇ              ‚Üì                                   ‚îÇ
‚îÇ    Controller ‚Üí Service                         ‚îÇ
‚îÇ              ‚Üì                                   ‚îÇ
‚îÇ    UniversalFilterService.applyFilters()       ‚îÇ
‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ    ‚îÇ For each filter:                        ‚îÇ ‚îÇ
‚îÇ    ‚îÇ  ‚Ä¢ Check fieldType (static/custom)      ‚îÇ ‚îÇ
‚îÇ    ‚îÇ  ‚Ä¢ Apply appropriate method             ‚îÇ ‚îÇ
‚îÇ    ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ ‚îÇ
‚îÇ    ‚îÇ Static: Use column mapping              ‚îÇ ‚îÇ
‚îÇ    ‚îÇ  entity.column = value                  ‚îÇ ‚îÇ
‚îÇ    ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ ‚îÇ
‚îÇ    ‚îÇ Custom: Use JSONB operators             ‚îÇ ‚îÇ
‚îÇ    ‚îÇ  entity."customFields"->>'key' = value  ‚îÇ ‚îÇ
‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ              ‚Üì                                   ‚îÇ
‚îÇ    TypeORM QueryBuilder                         ‚îÇ
‚îÇ    ‚Ä¢ Parametrized queries                      ‚îÇ
‚îÇ    ‚Ä¢ SQL injection protected                   ‚îÇ
‚îÇ              ‚Üì                                   ‚îÇ
‚îÇ    PostgreSQL Database                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üìù –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### Frontend Component

```typescript
@Component({...})
export class ContactsComponent {
  private dialog = inject(MatDialog);
  private filterService = inject(UniversalFilterService);
  
  filterState = signal<BaseFilterState>({
    search: undefined,
    isActive: true,
    filters: []
  });
  
  staticFields: FilterFieldDefinition[] = [
    { name: 'email', label: 'Email', type: 'email' },
    { name: 'type', label: '–¢–∏–ø', type: 'select', 
      selectOptions: [
        { label: '–ß–µ–ª–æ–≤–µ–∫', value: 'person' },
        { label: '–ö–æ–º–ø–∞–Ω–∏—è', value: 'company' }
      ]
    }
  ];
  
  openFilters() {
    this.dialog.open(UniversalFiltersDialogComponent, {
      width: '800px',
      data: {
        title: '–§–∏–ª—å—Ç—Ä—ã –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤',
        staticFields: this.staticFields,
        customFields: this.customFields(),
        initialState: this.filterState()
      }
    }).afterClosed().subscribe(result => {
      if (result) {
        this.filterState.set(result);
        this.loadData();
      }
    });
  }
}
```

### Backend Service

```typescript
@Injectable()
export class ContactsService {
  private readonly staticFieldsMap = {
    email: 'contact.email',
    type: 'contact.type',
    // ...
  };
  
  constructor(
    private universalFilterService: UniversalFilterService
  ) {}
  
  async searchContactsWithFilters(dto: AdvancedSearchDto) {
    const qb = this.contactRepository.createQueryBuilder('contact');
    
    if (dto.filters?.length) {
      this.universalFilterService.applyFilters(
        qb,
        dto.filters,
        'contact',
        this.staticFieldsMap
      );
    }
    
    return { 
      data: await qb.getMany(), 
      total: await qb.getCount() 
    };
  }
}
```

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### Backend
- ‚úÖ Contacts - –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ
- ‚è≥ Leads - –≥–æ—Ç–æ–≤–æ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- ‚è≥ Companies - –≥–æ—Ç–æ–≤–æ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- ‚è≥ Deals - –≥–æ—Ç–æ–≤–æ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### Frontend
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã - –≥–æ—Ç–æ–≤—ã
- ‚úÖ –°–µ—Ä–≤–∏—Å—ã - –≥–æ—Ç–æ–≤—ã
- ‚úÖ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã - –≥–æ—Ç–æ–≤—ã
- ‚è≥ Contacts - —Ç—Ä–µ–±—É–µ—Ç—Å—è –º–∏–≥—Ä–∞—Ü–∏—è
- ‚è≥ Leads - –æ–∂–∏–¥–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- ‚è≥ Companies - –æ–∂–∏–¥–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- ‚è≥ Deals - –æ–∂–∏–¥–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
- ‚úÖ –û–¥–∏–Ω –¥–∏–∞–ª–æ–≥ –¥–ª—è –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
- ‚úÖ –û–¥–∏–Ω —Å–µ—Ä–≤–∏—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞ –±—ç–∫–µ–Ω–¥–µ
- ‚úÖ –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π UX
- ‚úÖ –ú–µ–Ω—å—à–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è (~850 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)

### –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤–µ–∑–¥–µ
- ‚úÖ Generic types –Ω–∞ –±—ç–∫–µ–Ω–¥–µ –∏ —Ñ—Ä–æ–Ω—Ç–µ
- ‚úÖ –ê–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç –≤ IDE
- ‚úÖ Compile-time –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ì–∏–±–∫–æ—Å—Ç—å
- ‚úÖ 12 –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∏ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –ø–æ–ª–µ–π
- ‚úÖ –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã
- ‚úÖ –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç SQL injection
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è DTO —á–µ—Ä–µ–∑ class-validator
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏–π –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ TypeORM –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ JSONB –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –ø–æ–ª–µ–π
- ‚úÖ –ü–∞–≥–∏–Ω–∞—Ü–∏—è –≤—Å—Ç—Ä–æ–µ–Ω–∞
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### Backend
- `apps/back/src/app/modules/shared/services/UNIVERSAL_FILTER_USAGE.md`
- `apps/back/src/app/modules/shared/README.md`
- `UNIVERSAL_FILTER_REFACTORING.md`

### Frontend
- `UNIVERSAL_FILTER_FRONTEND.md`
- `apps/front/src/app/shared/README.md`

## üîß –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (1-2 –¥–Ω—è)
1. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –Ω–∞ Contacts
2. ‚è≥ –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Contacts –Ω–∞ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É
3. ‚è≥ –ù–∞–ø–∏—Å–∞—Ç—å unit —Ç–µ—Å—Ç—ã –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ (1 –Ω–µ–¥–µ–ª—è)
4. ‚è≥ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ Leads –º–æ–¥—É–ª—å
5. ‚è≥ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ Companies –º–æ–¥—É–ª—å
6. ‚è≥ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ Deals –º–æ–¥—É–ª—å
7. ‚è≥ E2E —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (2+ –Ω–µ–¥–µ–ª–∏)
8. ‚è≥ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
9. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –≤ localStorage
10. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞–±–æ—Ä—ã —Ñ–∏–ª—å—Ç—Ä–æ–≤
11. ‚è≥ –≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π —Ñ–∏–ª—å—Ç—Ä–æ–≤

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **Between operator** - —Ç—Ä–µ–±—É–µ—Ç —Ä–æ–≤–Ω–æ 2 –∑–Ω–∞—á–µ–Ω–∏—è (–Ω–µ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è –Ω–∞ UI –ø–æ–∫–∞)
2. **Array operators** - –Ω–µ—Ç UI –¥–ª—è –≤–≤–æ–¥–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π
3. **Date fields** - –Ω–µ—Ç date picker –≤ universal dialog
4. **–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è** - —Ç–æ–ª—å–∫–æ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫ –ø–æ–∫–∞

## üí° –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **UI/UX:**
   - Date picker –¥–ª—è –¥–∞—Ç
   - Multi-select –¥–ª—è array –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
   - Drag & drop –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤
   - Preview —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

2. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
   - –°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã (presets)
   - –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤
   - –≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤
   - –®–∞—Ä–∏–Ω–≥ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
   - Debounce –¥–ª—è –ø–æ–∏—Å–∫–∞
   - –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª–∏–Ω–≥ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤ –ø–æ–ª–µ–π
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π –ø–æ–ª–µ–π
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è JSONB –∑–∞–ø—Ä–æ—Å–æ–≤

4. **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞:**
   - Storybook –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   - Visual regression —Ç–µ—Å—Ç—ã
   - Performance benchmarks
   - Accessibility audit

---

**–ê–≤—Ç–æ—Ä:** GitHub Copilot  
**–î–∞—Ç–∞:** 12 —è–Ω–≤–∞—Ä—è 2026 –≥.  
**–í–µ—Ç–∫–∞:** feat/contacts-costom-fields  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~2 —á–∞—Å–∞

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
